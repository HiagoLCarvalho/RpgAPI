BEGIN TRANSACTION;
GO

ALTER TABLE [Armas] ADD [PersonagemId] int NOT NULL DEFAULT 0;
GO

IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Dano', N'Nome', N'PersonagemId') AND [object_id] = OBJECT_ID(N'[Armas]'))
    SET IDENTITY_INSERT [Armas] ON;
INSERT INTO [Armas] ([Id], [Dano], [Nome], [PersonagemId])
VALUES (1, 35, N'Arco e Flecha', 1),
(2, 33, N'Espada', 2),
(3, 31, N'Machado', 3);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Dano', N'Nome', N'PersonagemId') AND [object_id] = OBJECT_ID(N'[Armas]'))
    SET IDENTITY_INSERT [Armas] OFF;
GO

UPDATE [Usuarios] SET [PasswordHash] = 0x7F0E25A7DC13D4C78F1C9750BAFD255ACBA5FA94733343A6BA07C8D40C5C48D69CEF544A7562C4D61F67E1C2A67F2FA574BF4B54ED9A6FD13CCFBE4B0818E15B, [PasswordSalt] = 0x2F5E8F3544F1555B32338039B1036AC3942636A6D328EBA341D9B4078E66FA25C3FAA3DB33B7083C5548B32B690948AC21395C49541C11B3B6A0F21D5B589A912BB49D3B6BCA9C3F3542A781ED8F0C16B10334C8EED866D4FAE7F9F1962D82A465D149F253AA7BB8D58A53FA2104C0D7646E218E93EDE14EC6431A917E2ED770
WHERE [Id] = 1;
SELECT @@ROWCOUNT;

GO

CREATE INDEX [IX_Armas_PersonagemId] ON [Armas] ([PersonagemId]);
GO

ALTER TABLE [Armas] ADD CONSTRAINT [FK_Armas_Personagens_PersonagemId] FOREIGN KEY ([PersonagemId]) REFERENCES [Personagens] ([Id]) ON DELETE CASCADE;
GO

INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220408011901_MigracaoUmParaUm', N'5.0.15');
GO

COMMIT;
GO

